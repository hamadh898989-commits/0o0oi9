<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>لعبة الحروف (إصدارك الخاص)</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: radial-gradient(circle at top, #1d2538, #050816);
      color: #f9fafb;
      text-align: center;
      padding: 20px;
    }
    h1 {
      margin-bottom: 5px;
      font-size: 28px;
    }
    h2 {
      margin-top: 0;
      font-size: 16px;
      color: #cbd5f5;
    }
    .game-layout {
      display: flex;
      flex-direction: column;
      gap: 20px;
      max-width: 1000px;
      margin: 0 auto;
    }
    .top-row {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      align-items: stretch;
    }
    .letters-card, .question-card {
      background: rgba(15,23,42,0.95);
      border-radius: 16px;
      padding: 15px;
      border: 1px solid rgba(148,163,184,0.4);
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    }
    .letters-card {
      flex: 1 1 320px;
    }
    .question-card {
      flex: 1 1 280px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .letters-title {
      font-size: 18px;
      margin-bottom: 10px;
    }
    .letters {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 5px;
    }
    .letter-btn {
      padding: 8px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(135deg,#2563eb,#4f46e5);
      color: white;
      font-size: 18px;
      cursor: pointer;
      transition: 0.15s;
    }
    .letter-btn:hover:not(:disabled) {
      transform: translateY(-1px) scale(1.02);
      box-shadow: 0 4px 12px rgba(37,99,235,0.5);
    }
    .letter-btn:disabled {
      opacity: 0.5;
      cursor: default;
      box-shadow: none;
    }

    .question-header {
      font-weight: bold;
      margin-bottom: 8px;
      font-size: 16px;
      color: #e5e7eb;
    }
    .question-box {
      margin: 8px 0 12px;
      background: #020617;
      border-radius: 12px;
      padding: 15px;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 19px;
      border: 1px dashed #4b5563;
    }
    .current-letter {
      color: #38bdf8;
      font-weight: bold;
    }
    .timer {
      margin-top: 5px;
      font-size: 14px;
      color: #facc15;
    }
    .question-actions {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .question-actions button {
      padding: 6px 12px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-size: 14px;
    }
    .next-question {
      background: #22c55e;
      color: #022c22;
    }
    .skip-question {
      background: #f97316;
      color: #1f2937;
    }

    .score-board {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }
    .team {
      padding: 10px 14px;
      border-radius: 16px;
      background: #020617;
      border: 1px solid #1f2937;
      min-width: 160px;
    }
    .team-name {
      font-weight: bold;
      margin-bottom: 4px;
    }
    .team-1 {
      border-color: #22c55e;
      box-shadow: 0 0 12px rgba(34,197,94,0.4);
    }
    .team-2 {
      border-color: #f97316;
      box-shadow: 0 0 12px rgba(249,115,22,0.4);
    }
    .team-3 {
      border-color: #06b6d4;
      box-shadow: 0 0 12px rgba(6,182,212,0.4);
    }
    .team-color-1 { background: #166534; }
    .team-color-2 { background: #9a3412; }
    .team-color-3 { background: #0f766e; }

    .score-value {
      font-size: 22px;
      margin: 4px 0;
      color: #fbbf24;
    }
    .score-btns {
      margin-top: 6px;
      display: flex;
      gap: 4px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .score-btns button {
      padding: 4px 10px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 13px;
      color: white;
    }
    .plus {
      background: #16a34a;
    }
    .minus {
      background: #b91c1c;
    }
    .assign-letter {
      background: #3b82f6;
    }

    .controls {
      margin-top: 16px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    .controls button {
      padding: 7px 14px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 13px;
    }
    .reset-letters {
      background: #eab308;
      color: #1f2937;
    }
    .reset-scores {
      background: #f97316;
      color: #1f2937;
    }
    .reset-all {
      background: #ef4444;
      color: #f9fafb;
    }
    .hint {
      margin-top: 8px;
      font-size: 12px;
      color: #9ca3af;
    }

    @media (max-width: 800px) {
      .top-row {
        flex-direction: column;
      }
      .letters {
        grid-template-columns: repeat(6, 1fr);
      }
    }
    @media (max-width: 500px) {
      .letters {
        grid-template-columns: repeat(5, 1fr);
      }
    }
  </style>
</head>
<body>
  <h1>لعبة الحروف (نسخة خاصة لك)</h1>
  <h2>اضغط حرف → يطلع سؤال → أعطِ النقطة للفريق المناسب</h2>

  <div class="game-layout">
    <div class="top-row">
      <!-- بطاقة الحروف -->
      <div class="letters-card">
        <div class="letters-title">الحروف</div>
        <div class="letters" id="lettersContainer"></div>
        <div class="hint">تلميح: بعد ما ينتهي السؤال، عطِّل الحرف تلقائيًا. تقدر تعيد تفعيل كل الحروف من الأزرار تحت.</div>
      </div>

      <!-- بطاقة السؤال -->
      <div class="question-card">
        <div class="question-header">
          السؤال الحالي:
          <span id="currentLetterLabel" class="current-letter">—</span>
        </div>
        <div class="question-box" id="questionBox">
          اضغط على حرف لعرض سؤال…
        </div>
        <div class="timer" id="timerLabel">المؤقت: —</div>
        <div class="question-actions">
          <button class="next-question" onclick="nextQuestionSameLetter()">سؤال آخر لنفس الحرف</button>
          <button class="skip-question" onclick="clearQuestion()">مسح السؤال</button>
        </div>
      </div>
    </div>

    <!-- النقاط -->
    <div class="score-board">
      <div class="team team-1">
        <div class="team-name">فريق 1 (أخضر)</div>
        <div>النقاط:</div>
        <div class="score-value" id="score1">0</div>
        <div class="score-btns">
          <button class="plus" onclick="changeScore(1, 1)">+1</button>
          <button class="minus" onclick="changeScore(1, -1)">-1</button>
          <button class="assign-letter" onclick="assignLetterToTeam(1)">الحرف لهذا الفريق</button>
        </div>
      </div>

      <div class="team team-2">
        <div class="team-name">فريق 2 (برتقالي)</div>
        <div>النقاط:</div>
        <div class="score-value" id="score2">0</div>
        <div class="score-btns">
          <button class="plus" onclick="changeScore(2, 1)">+1</button>
          <button class="minus" onclick="changeScore(2, -1)">-1</button>
          <button class="assign-letter" onclick="assignLetterToTeam(2)">الحرف لهذا الفريق</button>
        </div>
      </div>

      <div class="team team-3">
        <div class="team-name">فريق 3 (تركوازي)</div>
        <div>النقاط:</div>
        <div class="score-value" id="score3">0</div>
        <div class="score-btns">
          <button class="plus" onclick="changeScore(3, 1)">+1</button>
          <button class="minus" onclick="changeScore(3, -1)">-1</button>
          <button class="assign-letter" onclick="assignLetterToTeam(3)">الحرف لهذا الفريق</button>
        </div>
      </div>
    </div>

    <!-- أزرار التحكم -->
    <div class="controls">
      <button class="reset-letters" onclick="resetLetters()">إعادة تفعيل الحروف</button>
      <button class="reset-scores" onclick="resetScores()">تصفير النقاط</button>
      <button class="reset-all" onclick="resetAll()">إعادة تعيين الكل</button>
    </div>
  </div>

  <script>
    // الحروف العربية
    const letters = [
      "أ","ب","ت","ث","ج","ح","خ",
      "د","ذ","ر","ز","س","ش","ص",
      "ض","ط","ظ","ع","غ","ف","ق",
      "ك","ل","م","ن","هـ","و","ي"
    ];

    // بنك أسئلة كبير (تقدر تزيد براحتك)
    const questionsBank = {
      "أ": [
        "ما أول سورة في القرآن الكريم؟",
        "اذكر اسم نبي يبدأ بحرف الألف.",
        "اذكر دولة عربية يبدأ اسمها بحرف الألف."
      ],
      "ب": [
        "ما عاصمة المملكة العربية السعودية؟",
        "اذكر حيواناً يبدأ بحرف الباء.",
        "اذكر دولة عربية يبدأ اسمها بحرف الباء."
      ],
      "ت": [
        "ما العملية التي تصنع فيها النباتات غذاءها؟",
        "اذكر شهر هجري يبدأ بحرف التاء.",
        "اذكر مهنة تبدأ بحرف التاء."
      ],
      "ث": [
        "اذكر حيواناً يبدأ بحرف الثاء.",
        "اذكر كلمة تدل على الثواب.",
        "اذكر مدينة أو قرية تبدأ بحرف الثاء."
      ],
      "ج": [
        "ما الحيوان الذي يُلقب بملك الغابة؟",
        "اذكر مدينة عربية تبدأ بحرف الجيم.",
        "اذكر اسم جماد يبدأ بحرف الجيم."
      ],
      "ح": [
        "ما اسم البحر الذي تطل عليه السعودية ومصر؟",
        "اذكر طعاماً حاراً يبدأ بحرف الحاء.",
        "اذكر صفة جميلة تبدأ بحرف الحاء."
      ],
      "خ": [
        "اذكر مهنة تبدأ بحرف الخاء.",
        "اذكر كلمة تدل على الأخلاق الحسنة.",
        "اذكر اسم بلد أو مدينة يبدأ بحرف الخاء."
      ],
      "د": [
        "اذكر دولة عربية يبدأ اسمها بحرف الدال.",
        "اذكر اسم نبي يبدأ بحرف الدال.",
        "اذكر شيئاً في البيت يبدأ بحرف الدال."
      ],
      "ذ": [
        "اذكر شيئاً في الجسم يبدأ بحرف الذال.",
        "اذكر كلمة تدل على الذكاء.",
        "اذكر اسم حيوان أو طائر يبدأ بحرف الذال."
      ],
      "ر": [
        "اذكر لوناً يبدأ بحرف الراء.",
        "اذكر مدينة سعودية تبدأ بحرف الراء.",
        "اذكر صفة جميلة تبدأ بحرف الراء."
      ],
      "ز": [
        "ما الحشرة التي تنتج العسل؟",
        "اذكر شيئاً نستخدمه في الزينة يبدأ بحرف الزاي.",
        "اذكر بلد أو مدينة يبدأ بحرف الزاي."
      ],
      "س": [
        "كم عدد الحواس عند الإنسان؟",
        "اذكر اسم نبي يبدأ بحرف السين.",
        "اذكر شيئاً في المطبخ يبدأ بحرف السين."
      ],
      "ش": [
        "اذكر دولة عربية تبدأ بحرف الشين.",
        "اذكر مشروباً ساخناً يبدأ بحرف الشين.",
        "اذكر مهنة تبدأ بحرف الشين."
      ],
      "ص": [
        "اذكر صلاة من الصلوات الخمس تبدأ بحرف الصاد.",
        "اذكر صفة جميلة تبدأ بحرف الصاد.",
        "اذكر دولة أو مدينة يبدأ اسمها بحرف الصاد."
      ],
      "ض": [
        "اذكر كلمة تدل على الضيافة.",
        "اذكر حيواناً أو طائراً يبدأ بحرف الضاد.",
        "اذكر اسم شخص (حقيقي أو خيالي) يبدأ بحرف الضاد."
      ],
      "ط": [
        "اذكر مهنة تبدأ بحرف الطاء.",
        "اذكر طعاماً يبدأ بحرف الطاء.",
        "اذكر مدينة أو دولة يبدأ اسمها بحرف الطاء."
      ],
      "ظ": [
        "ما عكس كلمة (ليل)؟",
        "اذكر كلمة فيها حرف الظاء تدل على الوقت.",
        "اذكر كلمة فيها حرف الظاء تدل على صفة سيئة."
      ],
      "ع": [
        "ما اسم الكوكب الذي نعيش عليه؟",
        "اذكر دولة عربية تبدأ بحرف العين.",
        "اذكر حيواناً يبدأ بحرف العين."
      ],
      "غ": [
        "اذكر حيواناً برياً يبدأ بحرف الغين.",
        "اذكر لوناً يبدأ بحرف الغين.",
        "اذكر كلمة فيها حرف الغين تدل على صفة جميلة."
      ],
      "ف": [
        "ما العضو الذي يضخ الدم في جسم الإنسان؟",
        "اذكر فاكهة تبدأ بحرف الفاء.",
        "اذكر دولة أو مدينة يبدأ اسمها بحرف الفاء."
      ],
      "ق": [
        "ما اسم العملة في السعودية؟",
        "اذكر سورة من القرآن تبدأ بحرف القاف.",
        "اذكر مهنة تبدأ بحرف القاف."
      ],
      "ك": [
        "ما الأداة التي نستخدمها للكتابة على الورق؟",
        "اذكر حيواناً يبدأ بحرف الكاف.",
        "اذكر دولة أو مدينة يبدأ اسمها بحرف الكاف."
      ],
      "ل": [
        "اذكر حيواناً أليفاً يبدأ بحرف اللام.",
        "اذكر عاصمة دولة عربية تبدأ بحرف اللام.",
        "اذكر كلمة فيها حرف اللام تدل على صفة جميلة."
      ],
      "م": [
        "ما أكبر قارة في العالم من حيث المساحة؟",
        "اذكر اسم نبي يبدأ بحرف الميم.",
        "اذكر مهنة تبدأ بحرف الميم."
      ],
      "ن": [
        "اذكر اسم نهر مشهور يبدأ بحرف النون.",
        "اذكر مدينة سعودية تبدأ بحرف النون.",
        "اذكر حيواناً يبدأ بحرف النون."
      ],
      "هـ": [
        "اذكر شيئاً في الجسم يبدأ بحرف الهاء.",
        "اذكر دولة عربية تبدأ بحرف الهاء.",
        "اذكر كلمة فيها حرف الهاء تدل على شعور."
      ],
      "و": [
        "ماذا نحمل عند نزول المطر حتى لا نبتل؟",
        "اذكر سورة في القرآن تبدأ بحرف الواو.",
        "اذكر كلمة فيها حرف الواو تدل على صفة جميلة."
      ],
      "ي": [
        "اذكر اسم دولة يبدأ بحرف الياء (بالعربية).",
        "اذكر اسم شخص يبدأ بحرف الياء.",
        "اذكر شيئاً في البيت يبدأ بحرف الياء."
      ]
    };

    const lettersContainer = document.getElementById("lettersContainer");
    const questionBox = document.getElementById("questionBox");
    const currentLetterLabel = document.getElementById("currentLetterLabel");
    const timerLabel = document.getElementById("timerLabel");

    let currentLetter = null;
    let timerInterval = null;
    const QUESTION_TIME = 30; // ثواني
    let currentTime = null;

    // إنشاء أزرار الحروف
    letters.forEach(letter => {
      const btn = document.createElement("button");
      btn.textContent = letter;
      btn.className = "letter-btn";
      btn.dataset.letter = letter;
      lettersContainer.appendChild(btn);

      btn.addEventListener("click", () => {
        showNewQuestion(letter);
        btn.disabled = true; // تعطيل الحرف بعد الضغط
      });
    });

    function showNewQuestion(letter) {
      currentLetter = letter;
      currentLetterLabel.textContent = letter;
      const list = questionsBank[letter] || [];
      if (list.length === 0) {
        questionBox.textContent = "لا توجد أسئلة لهذا الحرف (أضف أسئلة من الكود).";
        stopTimer();
        timerLabel.textContent = "المؤقت: —";
        return;
      }
      const randomIndex = Math.floor(Math.random() * list.length);
      const q = list[randomIndex];
      questionBox.textContent = `حرف (${letter}): ${q}`;
      startTimer();
    }

    function nextQuestionSameLetter() {
      if (!currentLetter) return;
      showNewQuestion(currentLetter);
    }

    function clearQuestion() {
      questionBox.textContent = "اضغط على حرف لعرض سؤال…";
      currentLetterLabel.textContent = "—";
      currentLetter = null;
      stopTimer();
      timerLabel.textContent = "المؤقت: —";
    }

    function startTimer() {
      stopTimer();
      currentTime = QUESTION_TIME;
      timerLabel.textContent = `المؤقت: ${currentTime} ثانية`;
      timerInterval = setInterval(() => {
        currentTime -= 1;
        if (currentTime <= 0) {
          timerLabel.textContent = "انتهى الوقت!";
          stopTimer();
        } else {
          timerLabel.textContent = `المؤقت: ${currentTime} ثانية`;
        }
      }, 1000);
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }

    // النقاط
    function changeScore(teamNumber, delta) {
      const span = document.getElementById("score" + teamNumber);
      let current = parseInt(span.textContent, 10);
      current += delta;
      if (current < 0) current = 0;
      span.textContent = current;
    }

    // تلوين الحرف للفريق
    function assignLetterToTeam(teamNumber) {
      if (!currentLetter) return;
      const buttons = document.querySelectorAll(".letter-btn");
      buttons.forEach(b => {
        if (b.dataset.letter === currentLetter) {
          b.classList.remove("team-color-1","team-color-2","team-color-3");
          b.classList.add("team-color-" + teamNumber);
        }
      });
    }

    // إعادة تفعيل الحروف
    function resetLetters() {
      const buttons = document.querySelectorAll(".letter-btn");
      buttons.forEach(b => {
        b.disabled = false;
        b.classList.remove("team-color-1","team-color-2","team-color-3");
      });
      clearQuestion();
    }

    // تصفير النقاط
    function resetScores() {
      document.getElementById("score1").textContent = "0";
      document.getElementById("score2").textContent = "0";
      document.getElementById("score3").textContent = "0";
    }

    function resetAll() {
      resetLetters();
      resetScores();
    }
  </script>
</body>
</html>
